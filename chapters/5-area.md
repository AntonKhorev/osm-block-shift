---
title: Выбор области сдвига
---

Наша операция по сдвигу начинается с решения о том, что именно надо сдвигать. Мы, казалось бы, уже определились с областью сдвига: это квартал. Несмотря на это, у нас по прежнему может оставаться вопрос, где именно провести границу квартала. Насколько это существенный вопрос, зависит от того, что уже нарисовано. В самом простом случае на краю квартала нарисованы здания, и между ними и highway-линией улицы ничего больше нет. Тогда мы условно проведём границу области сдвига так, чтобы здания в неё вошли, а улица не вошла. Как провести границу реально, написано в следующем разделе. Конечно, возможен и ещё более простой случай, когда не нарисованы даже и здания, но тогда нам незачем действовать согласно данной записи.

Что может быть уже отмечено между внешними зданиями и линией улицы? Всё, что угодно, что там есть или было, и что осмеры посчитали нужным к данному моменту ввести. В первую очередь это тротуар.[^5-separate-sidewalk] Мы начали эту запись с того, что представили себе осмера, вводящего подобные объекты, и обнаружившего, что уже имеющиеся данные ему это делать мешают. Правда, также мы представили, что он, возможно, хочет вводить свои объекты относительно имеющихся данных. Чтобы такое произошло, определённые данные уже должны быть добавлены на момент ввода новых объектов. В общем, можно утверждать, что данные вводятся согласно изменяющимся во времени предпочтениям осмеров, которые зависят от уже введённых данных, и для чего мы можем указать некоторые закономерности.

[^5-separate-sidewalk]: Тротуары, если таковые вообще имеются, могут быть обозначены отдельными линиями {% tag "footway=sidewalk" %} или тегами {% tag "sidewalk=*" %} на линиях улиц. В этой записи при рассмотрении тротуаров мы будем подразумевать отдельные линии по нескольким причинам. Во-первых, если тротуар не обозначен отдельной линией, у него нет отдельной геометрии в осмовских данных. Нам, интересующимся в настоящий момент преобразованиями геометрии, не понадобится такой тротуар рассматривать. Во-вторых, можно предположить, что при рассматриваемом уровне детализации рисование тротуаров отдельными линиями будет являться целью участников. Если у нас достаточно данных внутри квартала, которые мы не хотим испортить его перемещением, тротуар вокруг него нам уже не будет казаться лишним. Кроме того, внутри квартала, вероятно, будет достаточно проходов, каждый из которых не обязательно важнее тротуара. Для того, кто взялся их рисовать, логичным будет изобразить и тротуар, особенно если эти проходы с ним соединяются. Это примечание про тротуары отдельными линиями приводится здесь, потому что до сих пор высказываются мнения, что линии тротуаров лишние, они лишь загромождают данные, обозначать тротуары не имеет смысла, так как и так ясно, что они есть у каждой улицы они есть по обеим сторонам, тротуары не являются отдельными от улицы объектами и так далее. Мы булем считать, что там, где подобные мнения распространены, карта ещё не достигла существенного уровня детализации, при котором наши неосторожные действия по перемещению могут многое испортить.
